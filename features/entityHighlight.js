let entitesHighlighted=!0,currentHEntities=null;function highlightEntitiesLoop(){currentHEntities&&entitesHighlighted&&(currentHEntities.forEach((e=>{const t=queueToDraw.findIndex((t=>t.id===e.key)),i={x:e.position.x,y:e.position.y,width:e.position.width,height:e.position.height};if(entityOnScreen(i)){const s=Object.keys(activeTimers).find((t=>e.element_name.startsWith(t))),n=activeTimers[s],{screenX:r,screenY:a,screenWidth:o,screenHeight:d}=calculateScreenCoords(i),l=Date.now(),c=e.timeResolved>l?e.timeResolved-l:0,h=new Date(c).toISOString().substr(11,8);let f="rgba(34, 32, 68, 0.5)",u="#6626ff",g="";if(e.reservedBy&&e.reservedUntil>l){const t=e.reservedUntil-l,i=new Date(t).toISOString().substr(11,8);e.reservedBy===player_pid?(f="#00cc4488",u="#00aa33",g=`Reserved\n${i}\n${username}`):(f="#ffa50088",u="#ff8800",g=`Reserved\n${i}`)}else if("loaded"===e.state&&e.timeResolved>0){f="#ff444488",u="#ff0000";g=`${h}\n${Math.ceil(c/6e4)*settings.qsExchange} [QS_ICON]`,e.user&&(g+=`\n${e.user}`)}else"loaded"===e.state&&0===e.timeResolved?(f="#ffa50088",u="#ff8800",g="Processing..."):n?.runningState&&e.state===n.runningState&&e.timeResolved>0?(f="#ff444488",u="#ff0000",g=`${h}`):("waiting"===e.state||"ready"===e.state||n?.readyState&&e.state===n.readyState||n?.altReadyState?.includes&&n.altReadyState.includes(e.state))&&(f="#00cc4488",u="#00aa33",g="Ready");const y={id:e.key,x:r,y:a,shape:"circle",shapeParams:{radius:o/2,width:o,height:d,fillColor:f,borderColor:u,borderWidth:2,text:g,textbg:!0}};t>=0?queueToDraw[t]=y:queueToDraw.push(y)}})),requestAnimationFrame(highlightEntitiesLoop))}