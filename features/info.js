let currentLandStorage=null,currentTimer=null,currentDataId=null,dataToSend=null,searchIndustries=null;function handleData(e){if(currentLandStorage=e?.landInfo?.storage?e.landInfo.storage:null,settings.trackE)if(e?.id&&(e.id.includes("pixelsNFTFarm")||e.id.includes("nftHouse"))){const t=Object.entries(e.landInfo).filter((([e])=>e.startsWith("permissions_"))).sort((([e],[t])=>Number(t.split("_")[1])-Number(e.split("_")[1])));t.length>0&&(e.landInfo.permission=t[0][1],t.forEach((([t])=>delete e.landInfo[t]))),e.id!==currentDataId?(dataToSend&&(sendDataRequest(dataToSend),dataToSend=null),null!==currentTimer&&clearInterval(currentTimer),currentDataId=e.id,dataToSend=e,scheduleDataSendTimer(),setTimeout((()=>{let e=setTimeout((()=>clearInterval(t)),1e4);const t=setInterval((()=>{document.querySelector(nodeNames.hudTopLeft)&&(clearInterval(t),clearTimeout(e),setTimeout((()=>{sendDataRequest(dataToSend),dataToSend=null}),1e3))}),100)}),1e3)):dataToSend=e}else dataToSend&&(sendDataRequest(dataToSend),dataToSend=null,currentDataId=e.id,null!==currentTimer&&clearInterval(currentTimer))}function scheduleDataSendTimer(){currentTimer=setInterval((()=>{null!==dataToSend&&(sendDataRequest(dataToSend),dataToSend=null)}),6e4)}async function sendDataRequest(e){if(null!==e)return new Promise((async(t,a)=>{chrome.storage.local.get("user_info",(async function(t){const n={name:t.user_info,operation:"sendDataRequest",extra:e};try{(await makeFetchRequest(apiURL,n)).data}catch(e){a(e)}}))}))}