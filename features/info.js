let currentLandStorage=null,currentTimer=null,currentDataId=null,dataToSend=null,searchIndustries=null;function handleData(e){if(currentLandStorage=e?.landInfo?.storage?e.landInfo.storage:null,settings.trackE){if(e?.id&&(e.id.includes("pixelsNFTFarm")||e.id.includes("nftHouse"))){let n=Object.entries(e.landInfo).filter(([e])=>e.startsWith("permissions_")).sort(([e],[n])=>Number(n.split("_")[1])-Number(e.split("_")[1]));n.length>0&&(e.landInfo.permission=n[0][1],n.forEach(([n])=>delete e.landInfo[n])),e.id!==currentDataId?(dataToSend&&(sendDataRequest(dataToSend),dataToSend=null),null!==currentTimer&&clearInterval(currentTimer),currentDataId=e.id,dataToSend=e,scheduleDataSendTimer(),setTimeout(()=>{let e=setTimeout(()=>clearInterval(n),1e4),n=setInterval(()=>{document.querySelector(nodeNames.hudTopLeft)&&(clearInterval(n),clearTimeout(e),setTimeout(()=>{sendDataRequest(dataToSend),dataToSend=null},1e3))},100)},1e3)):dataToSend=e}else dataToSend&&(sendDataRequest(dataToSend),dataToSend=null,currentDataId=e.id,null!==currentTimer&&clearInterval(currentTimer))}}function scheduleDataSendTimer(){currentTimer=setInterval(()=>{null!==dataToSend&&(sendDataRequest(dataToSend),dataToSend=null)},6e4)}async function sendDataRequest(e){if(null!==e)return new Promise(async(n,a)=>{chrome.storage.local.get("user_info",async function(n){let t={name:n.user_info,operation:"sendDataRequest",extra:e};try{let d=await makeFetchRequest(apiURL,t);d.data}catch(r){a(r)}})})}