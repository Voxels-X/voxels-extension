function loadSettings(){var e=document.getElementById("voxels-full-page-main");e.innerHTML="";var t=document.createElement("div");t.setAttribute("id","voxels-setting-main");const o=[{id:"toggle-stack-value",text:"Toggle stack value",toggleFunction:toggleInventoryStack,initial:inventoryModeTotal?"ON":"OFF"},{id:"toggle-inventory-prices",text:"Toggle inventory prices",toggleFunction:togglePrices,initial:displayInventoryPrice?"ON":"OFF"},{id:"toggle-hover-info",text:"Toggle Recipe and Graph",toggleFunction:()=>(displayHoverInfo=!displayHoverInfo,chrome.storage.local.set({displayHoverInfo:displayHoverInfo}),!0),initial:displayHoverInfo?"ON":"OFF"}];function a(){var a=document.createElement("div");a.className="voxels-settings-wrapper",o.forEach((function(e){var t=document.createElement("div");t.className="voxels-setting";var o=document.createElement("label");o.textContent=e.text,o.className="voxels-setting-label",t.appendChild(o);var n=document.createElement("label");n.className="voxels-switch";var i=document.createElement("input");i.type="checkbox",i.id=e.id,i.checked="ON"===e.initial;var l=document.createElement("span");l.className="voxels-slider",i.onchange=function(){e.toggleFunction()},n.appendChild(i),n.appendChild(l),t.appendChild(n),a.appendChild(t)})),t.appendChild(a);var n=document.createElement("div");function i(e,t,o){const a=document.createElement("div");a.className="voxels-button-with-description";const n=document.createElement("button");n.className="voxels-settings-button",n.textContent=e,n.onclick=t;const i=document.createElement("p");return i.className="voxels-button-description",i.textContent=o,a.appendChild(n),a.appendChild(i),a}n.className="voxels-top-buttons-wrapper",n.appendChild(i("Hide Voxels",(()=>toggleVoxels()),"Collapse the Voxels interface.")),n.appendChild(i("Claim Shard Premium",limiter(claimShardPremium,5e3),"Every 30 days eligible shard holders can claim 1 Premium Pass per shard held.")),n.appendChild(i("Secure Voxels",limiter((()=>{voxelsConfirm("If you continue your account authentication token will be visible. Make sure to keep this safe! And do not share with others! ðŸš¨<br><br>Continue?",(function(e){e&&secureVoxelsAccount()}))}),5e3),"Generate a secure code to use for future logins. Keep it safe!")),t.appendChild(n),e.appendChild(t)}premium?chrome.storage.local.get(["notifications","storageHover","taskboardTiles"],(function(e){o.push({id:"toggle-notifications",text:"Toggle notifications",toggleFunction:toggleNotifications,initial:e.notifications?"ON":"OFF"},{id:"toggle-storage-hover",text:"Toggle storage hover",toggleFunction:toggleStorageHover,initial:e.storageHover?"ON":"OFF"},{id:"toggle-taskboard-display",text:"Taskboard Fewer Details",toggleFunction:toggleTaskboardDisplay,initial:e.taskboardTiles?"ON":"OFF"},{id:"toggle-highlight-storage",text:"Highlight storages",toggleFunction:()=>(storagesHighlighted=!storagesHighlighted,chrome.storage.local.set({storagesHighlighted:storagesHighlighted}),!0),initial:storagesHighlighted?"ON":"OFF"}),a()})):a()}function claimShardPremium(){chrome.storage.local.get("pid",(async function(e){const t={pid:e.pid,operation:"redeemPremiumShard"};loadingScreenFull(1);try{const e=await makeFetchRequestByPID(apiURL,t);if(!handleErrors(e))if("logout"==e)initiate();else{loadingScreenFull(0);let t=e.data.shards;quickMessage("You have successfully redeemed "+t+' shard(s). You can find your passes under "My Passes".',"success")}}catch(e){loadingScreenFull(0),quickMessage("Please try again.","error")}}))}function secureVoxelsAccount(){chrome.storage.local.get("pid",(async function(e){const t={pid:e.pid,operation:"secureVoxelsAccount"};loadingScreenFull(1);try{const e=await makeFetchRequestByPID(apiURL,t);if(!handleErrors(e))if("logout"==e)initiate();else{loadingScreenFull(0),showFullOverlay();let t=document.getElementById("voxels-full-overlay-main");t.innerHTML="";let o=document.createElement("div");if(o.setAttribute("id","voxels-auth-area"),o.classList.add("voxels-scroll"),e.data&&e.data.auth_code){let t=document.createElement("h2");t.textContent="ðŸš¨ DO NOT SHARE! ðŸš¨",o.appendChild(t);let a=document.createElement("div");a.innerHTML="The following code is your personal Voxels login code. From now on you cannot login with your username anymore, but only with the following code, which you can enter on any device to login to Voxels securely.<br><br><span>Make sure to save it somewhere safe, without it you won't be able to access your Voxels account!</span><br><br>Voxels Authentication code: <span>"+e.data.auth_code+"</span>",o.appendChild(a),chrome.storage.local.set({user_acde:e.data.auth_code})}else o.textContent="Couldn't authenticate your account. Please contact us on discord.";t.appendChild(o)}}catch(e){loadingScreenFull(0),quickMessage("Please try again.","error")}}))}